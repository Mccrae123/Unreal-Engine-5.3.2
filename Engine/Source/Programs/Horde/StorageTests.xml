<?xml version='1.0' ?>
<BuildGraph xmlns="http://www.epicgames.com/BuildGraph" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.epicgames.com/BuildGraph ../../../Engine/Build/Graph/Schema.xsd" >

	<Option Name="PreflightChange" DefaultValue="" Description="Preflight changelist number"/>
	
	<!-- Small Chunks -->
	<Agent Name="Agent A" Type="CompileWin64;Win64">
		<Node Name="Create Small Chunks" Produces="#SmallChunks">
			<StorageTest Size="1024" Count="20000" Different="true" Tag="#SmallChunks"/>
			<Log Message="Output Files:" Files="#SmallChunks"/>
		</Node>
	</Agent>
	<Agent Name="Agent B" Type="CompileWin64;Win64">
		<Node Name="Read Small Chunks" Requires="#SmallChunks">
			<Log Message="Output Files:" Files="#SmallChunks"/>
		</Node>
	</Agent>

	<!-- Large Chunks -->
	<Agent Name="Agent C" Type="CompileWin64;Win64">
		<Node Name="Create Large Chunks" Produces="#LargeChunks">
			<StorageTest Size="1073741824" Count="20" Different="true" Tag="#LargeChunks"/>
			<Log Message="Output Files:" Files="#LargeChunks"/>
		</Node>
	</Agent>
	<Agent Name="Agent D" Type="CompileWin64;Win64">
		<Node Name="Read Large Chunks" Requires="#LargeChunks">
			<Log Message="Output Files:" Files="#LargeChunks"/>
		</Node>
	</Agent>
	
	<!-- Small Identical Chunks -->
	<Agent Name="Agent E" Type="CompileWin64;Win64">
		<Node Name="Create Small Identical Chunks" Produces="#SmallIdenticalChunks">
			<StorageTest Size="1024" Count="20000" Different="false" Tag="#SmallIdenticalChunks"/>
			<Log Message="Output Files:" Files="#SmallIdenticalChunks"/>
		</Node>
	</Agent>
	<Agent Name="Agent F" Type="CompileWin64;Win64">
		<Node Name="Read Small Identical Chunks" Requires="#SmallIdenticalChunks">
			<Log Message="Output Files:" Files="#SmallIdenticalChunks"/>
		</Node>
	</Agent>

	<!-- Large Identical Chunks -->
	<Agent Name="Agent G" Type="CompileWin64;Win64">
		<Node Name="Create Large Identical Chunks" Produces="#LargeIdenticalChunks">
			<StorageTest Size="1073741824" Count="20" Different="true" Tag="#LargeIdenticalChunks"/>
			<Log Message="Output Files:" Files="#LargeIdenticalChunks"/>
		</Node>
	</Agent>
	<Agent Name="Agent H" Type="CompileWin64;Win64">
		<Node Name="Read Large Identical Chunks" Requires="#LargeIdenticalChunks">
			<Log Message="Output Files:" Files="#LargeIdenticalChunks"/>
		</Node>
	</Agent>

	<!-- Aggregate for the whole build -->
	<Aggregate Name="Storage Tests" Requires="Read Small Chunks;Read Large Chunks;Read Small Identical Chunks;Read Large Identical Chunks"/>

</BuildGraph>
