include(CMakeForceCompiler)

set(CMAKE_SYSTEM_NAME Generic)
set(CMAKE_SYSTEM_VERSION 1)
set(CMAKE_CONFIGURATION_TYPES Debug Release CACHE TYPE INTERNAL FORCE)
set(CMAKE_GENERATOR_PLATFORM ORBIS CACHE TYPE INTERNAL FORCE)
#set(CMAKE_GENERATOR_PLATFORM_TOOLSET v4_clang_orbis CACHE TYPE INTERNAL FORCE)

if(NOT $ENV{SCE_ORBIS_SDK_DIR} EQUAL "")
	string(REGEX REPLACE "\\\\" "/" SCE_ORBIS_SDK_DIR $ENV{SCE_ORBIS_SDK_DIR})
	
	SET(CMAKE_C_COMPILER_WORKS TRUE CACHE INTERNAL "")
	SET(CMAKE_CXX_COMPILER_WORKS TRUE CACHE INTERNAL "")
	
	SET(CMAKE_C_COMPILER_FORCED TRUE CACHE INTERNAL "")
	SET(CMAKE_CXX_COMPILER_FORCED TRUE CACHE INTERNAL "")

	SET(CMAKE_C_COMPILER "${SCE_ORBIS_SDK_DIR}/host_tools/bin/orbis-clang.exe")
	SET(CMAKE_C_COMPILER_TARGET ORBIS)

	SET(CMAKE_CXX_COMPILER "${SCE_ORBIS_SDK_DIR}/host_tools/bin/orbis-clang++.exe")
	SET(CMAKE_CXX_COMPILER_TARGET ORBIS)
else()
	message(FATAL_ERROR "SCE_ORBIS_SDK_DIR environment variable not defined!")
endif()

SET(CMAKE_SHARED_LIBRARY_PREFIX_C "lib")
SET(CMAKE_SHARED_LIBRARY_PREFIX_CXX "lib")
SET(CMAKE_STATIC_LIBRARY_PREFIX_C "lib")
SET(CMAKE_STATIC_LIBRARY_PREFIX_CXX "lib")
SET(CMAKE_STATIC_LIBRARY_SUFFIX_C ".a")
SET(CMAKE_STATIC_LIBRARY_SUFFIX_CXX ".a")

if(CMAKE_BUILD_TYPE EQUAL "RELEASE")
	add_definitions(-DNDEBUG)
endif()

if(CMAKE_BUILD_TYPE EQUAL "DEBUG")
	
endif()
